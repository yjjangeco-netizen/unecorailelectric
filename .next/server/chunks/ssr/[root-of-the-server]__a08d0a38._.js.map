{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * ÌÜµÌôî ÌòïÏãùÏúºÎ°ú Ìè¨Îß∑ÌåÖ\r\n */\r\nexport const formatCurrency = (amount: number): string => {\r\n  try {\r\n    return new Intl.NumberFormat('ko-KR', {\r\n      style: 'currency',\r\n      currency: 'KRW'\r\n    }).format(amount)\r\n  } catch (error) {\r\n    console.error('ÌÜµÌôî Ìè¨Îß∑ÌåÖ Ïò§Î•ò:', error)\r\n    return `${amount.toLocaleString()}Ïõê`\r\n  }\r\n}\r\n\r\n/**\r\n * Ïû¨Í≥† ÏÉÅÌÉúÏóê Îî∞Î•∏ ÏÉâÏÉÅ Î∞òÌôò\r\n */\r\nexport const getStockStatusColor = (status: string): string => {\r\n  switch (status) {\r\n    case 'low_stock':\r\n      return 'text-red-600'\r\n    case 'normal':\r\n      return 'text-green-600'\r\n    default:\r\n      return 'text-gray-600'\r\n  }\r\n}\r\n\r\n/**\r\n * Ïû¨Í≥† ÏÉÅÌÉúÏóê Îî∞Î•∏ Î∞∞Í≤ΩÏÉâ Î∞òÌôò\r\n */\r\nexport const getStockStatusBgColor = (status: string): string => {\r\n  switch (status) {\r\n    case 'low_stock':\r\n      return 'bg-red-100'\r\n    case 'normal':\r\n      return 'bg-green-100'\r\n    default:\r\n      return 'bg-gray-100'\r\n  }\r\n}\r\n\r\n/**\r\n * ÎÇ†Ïßú ÌòïÏãùÏúºÎ°ú Ìè¨Îß∑ÌåÖ\r\n */\r\nexport const formatDate = (dateString: string): string => {\r\n  try {\r\n    const date = new Date(dateString)\r\n    if (isNaN(date.getTime())) {\r\n      throw new Error('Invalid date string')\r\n    }\r\n    return date.toLocaleDateString('ko-KR', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    })\r\n  } catch (error) {\r\n    console.error('ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ Ïò§Î•ò:', error)\r\n    return 'ÎÇ†Ïßú Ïò§Î•ò'\r\n  }\r\n}\r\n\r\n/**\r\n * ÎÇ†ÏßúÏôÄ ÏãúÍ∞Ñ ÌòïÏãùÏúºÎ°ú Ìè¨Îß∑ÌåÖ\r\n */\r\nexport const formatDateTime = (dateString: string): string => {\r\n  try {\r\n    const date = new Date(dateString)\r\n    if (isNaN(date.getTime())) {\r\n      throw new Error('Invalid date string')\r\n    }\r\n    return date.toLocaleString('ko-KR', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    })\r\n  } catch (error) {\r\n    console.error('ÎÇ†ÏßúÏãúÍ∞Ñ Ìè¨Îß∑ÌåÖ Ïò§Î•ò:', error)\r\n    return 'ÎÇ†ÏßúÏãúÍ∞Ñ Ïò§Î•ò'\r\n  }\r\n}\r\n\r\n/**\r\n * ÏïàÏ†ÑÌïú Ïà´Ïûê Î≥ÄÌôò\r\n */\r\nexport const safeParseInt = (value: string | number, defaultValue: number = 0): number => {\r\n  try {\r\n    if (typeof value === 'number') return value\r\n    const parsed = parseInt(value, 10)\r\n    return isNaN(parsed) ? defaultValue : parsed\r\n  } catch (error) {\r\n    console.error('Ï†ïÏàò Î≥ÄÌôò Ïò§Î•ò:', error)\r\n    return defaultValue\r\n  }\r\n}\r\n\r\n/**\r\n * ÏïàÏ†ÑÌïú Ïã§Ïàò Î≥ÄÌôò\r\n */\r\nexport const safeParseFloat = (value: string | number, defaultValue: number = 0): number => {\r\n  try {\r\n    if (typeof value === 'number') return value\r\n    const parsed = parseFloat(value)\r\n    return isNaN(parsed) ? defaultValue : parsed\r\n  } catch (error) {\r\n    console.error('Ïã§Ïàò Î≥ÄÌôò Ïò§Î•ò:', error)\r\n    return defaultValue\r\n  }\r\n}\r\n\r\n/**\r\n * ÏûÖÎ†•Í∞í Í≤ÄÏ¶ù\r\n */\r\nexport const validateInput = {\r\n  required: (value: string): boolean => value.trim().length > 0,\r\n  minLength: (value: string, min: number): boolean => value.trim().length >= min,\r\n  maxLength: (value: string, max: number): boolean => value.trim().length <= max,\r\n  email: (value: string): boolean => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value),\r\n  phone: (value: string): boolean => /^[0-9-+\\s()]+$/.test(value),\r\n  number: (value: string): boolean => !isNaN(Number(value)) && value.trim() !== '',\r\n  positiveNumber: (value: string): boolean => {\r\n    const num = Number(value)\r\n    return !isNaN(num) && num > 0\r\n  }\r\n}\r\n\r\n/**\r\n * ÏóêÎü¨ Î°úÍπÖ\r\n */\r\nexport const logError = (context: string, error: unknown, additionalInfo?: Record<string, unknown>): void => {\r\n  const errorInfo = {\r\n    timestamp: new Date().toISOString(),\r\n    context,\r\n    error: error instanceof Error ? {\r\n      message: error.message,\r\n      stack: error.stack,\r\n      name: error.name\r\n    } : error,\r\n    additionalInfo,\r\n    userAgent: typeof window !== 'undefined' ? window.navigator.userAgent : 'Server',\r\n    url: typeof window !== 'undefined' ? window.location.href : 'Unknown'\r\n  }\r\n  \r\n  console.error('üö® ÏóêÎü¨ Î∞úÏÉù:', errorInfo)\r\n  \r\n  // Ïã§Ï†ú ÌîÑÎ°úÎçïÏÖòÏóêÏÑúÎäî ÏóêÎü¨ Ï∂îÏ†Å ÏÑúÎπÑÏä§Î°ú Ï†ÑÏÜ°\r\n  // Ïòà: Sentry, LogRocket Îì±\r\n  if (process.env.NODE_ENV === 'production') {\r\n    // ÏóêÎü¨ Ï∂îÏ†Å ÏÑúÎπÑÏä§ Ï†ÑÏÜ° Î°úÏßÅ\r\n    console.log('ÌîÑÎ°úÎçïÏÖò ÌôòÍ≤Ω: ÏóêÎü¨ Ï∂îÏ†Å ÏÑúÎπÑÏä§Î°ú Ï†ÑÏÜ°Îê®')\r\n  }\r\n}\r\n\r\n/**\r\n * ÏÑ±Îä• Ï∏°Ï†ï\r\n */\r\nexport const measurePerformance = <T>(name: string, fn: () => T): T => {\r\n  const start = performance.now()\r\n  try {\r\n    const result = fn()\r\n    const end = performance.now()\r\n    console.log(`‚è±Ô∏è ${name} Ïã§Ìñâ ÏãúÍ∞Ñ: ${(end - start).toFixed(2)}ms`)\r\n    return result\r\n  } catch (error) {\r\n    const end = performance.now()\r\n    console.error(`‚ùå ${name} Ïã§Ìñâ Ïã§Ìå® (${(end - start).toFixed(2)}ms):`, error)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * ÎπÑÎèôÍ∏∞ ÏÑ±Îä• Ï∏°Ï†ï\r\n */\r\nexport const measureAsyncPerformance = async <T>(name: string, fn: () => Promise<T>): Promise<T> => {\r\n  const start = performance.now()\r\n  try {\r\n    const result = await fn()\r\n    const end = performance.now()\r\n    console.log(`‚è±Ô∏è ${name} Ïã§Ìñâ ÏãúÍ∞Ñ: ${(end - start).toFixed(2)}ms`)\r\n    return result\r\n  } catch (error) {\r\n    const end = performance.now()\r\n    console.error(`‚ùå ${name} Ïã§Ìñâ Ïã§Ìå® (${(end - start).toFixed(2)}ms):`, error)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * ÎîîÎ∞îÏö¥Ïä§ Ìï®Ïàò\r\n */\r\nexport const debounce = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeout: NodeJS.Timeout | null = null\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    if (timeout) clearTimeout(timeout)\r\n    timeout = setTimeout(() => func(...args), wait)\r\n  }\r\n}\r\n\r\n/**\r\n * Ïä§Î°úÌãÄ Ìï®Ïàò\r\n */\r\nexport const throttle = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  limit: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let inThrottle: boolean = false\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    if (!inThrottle) {\r\n      func(...args)\r\n      inThrottle = true\r\n      setTimeout(() => inThrottle = false, limit)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ ÏïàÏ†ÑÌïú Ï†ëÍ∑º\r\n */\r\nexport const safeLocalStorage = {\r\n  get: (key: string): string | null => {\r\n    try {\r\n      return localStorage.getItem(key)\r\n    } catch (error) {\r\n      logError('localStorage Ï†ëÍ∑º Ïò§Î•ò', error, { key })\r\n      return null\r\n    }\r\n  },\r\n  \r\n  set: (key: string, value: string): boolean => {\r\n    try {\r\n      localStorage.setItem(key, value)\r\n      return true\r\n    } catch (error) {\r\n      logError('localStorage Ï†ÄÏû• Ïò§Î•ò', error, { key, value })\r\n      return false\r\n    }\r\n  },\r\n  \r\n  remove: (key: string): boolean => {\r\n    try {\r\n      localStorage.removeItem(key)\r\n      return true\r\n    } catch (error) {\r\n      logError('localStorage ÏÇ≠Ï†ú Ïò§Î•ò', error, { key })\r\n      return false\r\n    }\r\n  },\r\n  \r\n  clear: (): boolean => {\r\n    try {\r\n      localStorage.clear()\r\n      return true\r\n    } catch (error) {\r\n      logError('localStorage Ï¥àÍ∏∞Ìôî Ïò§Î•ò', error)\r\n      return false\r\n    }\r\n  }\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants } "],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,qMAAA,CAAA,aAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\nimport { createBrowserClient } from '@supabase/ssr'\n\n// ÌôòÍ≤Ω Î≥ÄÏàòÏóêÏÑú Supabase ÏÑ§Ï†ï Í∞ÄÏ†∏Ïò§Í∏∞\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n// ÌôòÍ≤ΩÎ≥ÄÏàò Í≤ÄÏ¶ù\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables. Please check your .env.local file.')\n}\n\n// Î∏åÎùºÏö∞Ï†ÄÏö© ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ (SSR ÏßÄÏõê)\nexport const createBrowserSupabaseClient = () => {\n  return createBrowserClient(supabaseUrl, supabaseAnonKey)\n}\n\n// ÏÑúÎ≤ÑÏö© ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ (SSR ÏßÄÏõê)\nexport const createServerSupabaseClient = () => {\n  return createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false\n    }\n  })\n}\n\n// Í∏∞Ï°¥ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ (ÌïòÏúÑ Ìò∏ÌôòÏÑ±)\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true\n  }\n})\n\n// ÌíàÎ™© ÌÉÄÏûÖ Ï†ïÏùò\nexport interface Item {\n  id: string\n  name: string           // ÌíàÎ™Ö\n  specification: string   // Í∑úÍ≤©\n  maker: string          // Î©îÏù¥Ïª§\n  unit_price: number     // Í∏àÏï°\n  purpose: string        // Ïö©ÎèÑ\n  min_stock: number      // ÏµúÏÜåÏû¨Í≥†\n  category?: string\n  description?: string\n  created_at: string\n  updated_at: string\n}\n\n// ÏûÖÍ≥† ÌÉÄÏûÖ Ï†ïÏùò\nexport interface StockIn {\n  id: string\n  item_id: string\n  quantity: number\n  unit_price: number\n  condition_type: 'new' | 'used_good' | 'used_defective' | 'unknown'\n  reason?: string\n  ordered_by?: string\n  received_by: string\n  received_at: string\n}\n\n// Ï∂úÍ≥† ÌÉÄÏûÖ Ï†ïÏùò\nexport interface StockOut {\n  id: string\n  item_id: string\n  quantity: number\n  project?: string\n  issued_by: string\n  is_rental: boolean\n  return_date?: string\n  issued_at: string\n}\n\n// ÌòÑÏû¨ Ïû¨Í≥† ÌÉÄÏûÖ Ï†ïÏùò\nexport interface CurrentStock {\n  id: string\n  name: string\n  specification: string\n  unit_price: number\n  current_quantity: number\n  total_amount: number\n  notes?: string\n  category?: string\n  stock_status: 'normal' | 'low_stock'\n}\n\nexport interface User {\n  id: string\n  username: string\n  password: string\n  name: string\n  department: string\n  position: string\n  phone: string\n  is_admin: boolean\n  created_at: string\n  updated_at: string\n}\n\nexport interface UserGroup {\n  id: string\n  name: string\n  description: string\n  created_at: string\n}\n\nexport interface UserGroupMember {\n  id: string\n  user_id: string\n  group_id: string\n  created_at: string\n}\n\nexport interface Disposal {\n  id: string\n  stock_in_id: string\n  item_id: string\n  quantity: number\n  disposed_by: string\n  disposed_at: string\n  reason: string\n  notes: string\n  created_at: string\n} "],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;AAEA,2BAA2B;AAC3B,MAAM,cAAc,QAAQ,GAAG,CAAC,wBAAwB;AACxD,MAAM,kBAAkB,QAAQ,GAAG,CAAC,6BAA6B;AAEjE,UAAU;AACV,IAAI,CAAC,eAAe,CAAC,iBAAiB;IACpC,MAAM,IAAI,MAAM;AAClB;AAGO,MAAM,8BAA8B;IACzC,OAAO,CAAA,GAAA,mKAAA,CAAA,sBAAmB,AAAD,EAAE,aAAa;AAC1C;AAGO,MAAM,6BAA6B;IACxC,OAAO,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;QAChD,MAAM;YACJ,kBAAkB;YAClB,gBAAgB;QAClB;IACF;AACF;AAGO,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IACjE,MAAM;QACJ,kBAAkB;QAClB,gBAAgB;QAChB,oBAAoB;IACtB;AACF","debugId":null}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/lib/audit.ts"],"sourcesContent":["import { createBrowserSupabaseClient } from './supabase'\r\nimport { logError } from './utils'\r\n\r\n// Í∞êÏÇ¨ Î°úÍ∑∏ Î†àÎ≤®\r\nexport enum AuditLevel {\r\n  INFO = 'info',\r\n  WARNING = 'warning',\r\n  ERROR = 'error',\r\n  CRITICAL = 'critical'\r\n}\r\n\r\n// Í∞êÏÇ¨ Î°úÍ∑∏ Ïπ¥ÌÖåÍ≥†Î¶¨\r\nexport enum AuditCategory {\r\n  AUTHENTICATION = 'authentication',\r\n  AUTHORIZATION = 'authorization',\r\n  STOCK_MANAGEMENT = 'stock_management',\r\n  USER_MANAGEMENT = 'user_management',\r\n  SYSTEM_OPERATION = 'system_operation',\r\n  DATA_ACCESS = 'data_access',\r\n  CONFIGURATION_CHANGE = 'configuration_change'\r\n}\r\n\r\n// Í∞êÏÇ¨ Î°úÍ∑∏ Ïï°ÏÖò\r\nexport enum AuditAction {\r\n  // Ïù∏Ï¶ù Í¥ÄÎ†®\r\n  LOGIN = 'login',\r\n  LOGOUT = 'logout',\r\n  LOGIN_FAILED = 'login_failed',\r\n  PASSWORD_CHANGE = 'password_change',\r\n  SESSION_EXPIRED = 'session_expired',\r\n  \r\n  // Í∂åÌïú Í¥ÄÎ†®\r\n  PERMISSION_DENIED = 'permission_denied',\r\n  ROLE_CHANGE = 'role_change',\r\n  ACCESS_GRANTED = 'access_granted',\r\n  ACCESS_REVOKED = 'access_revoked',\r\n  \r\n  // Ïû¨Í≥† Í¥ÄÎ¶¨\r\n  STOCK_IN = 'stock_in',\r\n  STOCK_OUT = 'stock_out',\r\n  STOCK_ADJUSTMENT = 'stock_adjustment',\r\n  STOCK_DISPOSAL = 'stock_disposal',\r\n  STOCK_TRANSFER = 'stock_transfer',\r\n  \r\n  // ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨\r\n  USER_CREATED = 'user_created',\r\n  USER_UPDATED = 'user_updated',\r\n  USER_DELETED = 'user_deleted',\r\n  USER_ACTIVATED = 'user_activated',\r\n  USER_DEACTIVATED = 'user_deactivated',\r\n  \r\n  // ÏãúÏä§ÌÖú Ïö¥ÏòÅ\r\n  BACKUP_CREATED = 'backup_created',\r\n  SYSTEM_MAINTENANCE = 'system_maintenance',\r\n  CONFIGURATION_CHANGED = 'configuration_changed',\r\n  ERROR_OCCURRED = 'error_occurred'\r\n}\r\n\r\n// Í∞êÏÇ¨ Î°úÍ∑∏ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§\r\nexport interface AuditLogEntry {\r\n  id?: string\r\n  timestamp: string\r\n  user_id: string\r\n  username: string\r\n  user_role: string\r\n  ip_address: string\r\n  user_agent: string\r\n  category: AuditCategory\r\n  action: AuditAction\r\n  level: AuditLevel\r\n  resource_type?: string\r\n  resource_id?: string\r\n  details: Record<string, any>\r\n  metadata?: Record<string, any>\r\n  session_id?: string\r\n  request_id?: string\r\n}\r\n\r\n// Í∞êÏÇ¨ Î°úÍ∑∏ Îß§ÎãàÏ†Ä\r\nexport class AuditLogger {\r\n  private static instance: AuditLogger\r\n  private supabase = createBrowserSupabaseClient()\r\n  \r\n  private constructor() {}\r\n  \r\n  static getInstance(): AuditLogger {\r\n    if (!AuditLogger.instance) {\r\n      AuditLogger.instance = new AuditLogger()\r\n    }\r\n    return AuditLogger.instance\r\n  }\r\n  \r\n  /**\r\n   * Í∞êÏÇ¨ Î°úÍ∑∏ Í∏∞Î°ù\r\n   */\r\n  async log(entry: Omit<AuditLogEntry, 'timestamp' | 'ip_address' | 'user_agent'>): Promise<void> {\r\n    try {\r\n      const fullEntry: AuditLogEntry = {\r\n        ...entry,\r\n        timestamp: new Date().toISOString(),\r\n        ip_address: await this.getClientIP(),\r\n        user_agent: this.getUserAgent()\r\n      }\r\n      \r\n      // SupabaseÏóê Î°úÍ∑∏ Ï†ÄÏû•\r\n      const { error } = await this.supabase\r\n        .from('audit_logs')\r\n        .insert(fullEntry)\r\n      \r\n      if (error) {\r\n        throw new Error(`Í∞êÏÇ¨ Î°úÍ∑∏ Ï†ÄÏû• Ïã§Ìå®: ${error.message}`)\r\n      }\r\n      \r\n      // Ï§ëÏöîÎèÑÍ∞Ä ÎÜíÏùÄ Î°úÍ∑∏Îäî ÏΩòÏÜîÏóêÎèÑ Ï∂úÎ†•\r\n      if (entry.level === AuditLevel.ERROR || entry.level === AuditLevel.CRITICAL) {\r\n        console.error('üî¥ Í∞êÏÇ¨ Î°úÍ∑∏ (Critical):', {\r\n          action: entry.action,\r\n          user: entry.username,\r\n          details: entry.details\r\n        })\r\n      }\r\n      \r\n    } catch (error) {\r\n      // Í∞êÏÇ¨ Î°úÍ∑∏ Ïã§Ìå® ÏãúÏóêÎèÑ ÏóêÎü¨ Î°úÍπÖ\r\n      logError('Í∞êÏÇ¨ Î°úÍ∑∏ Í∏∞Î°ù Ïã§Ìå®', error, { auditEntry: entry })\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Ïù∏Ï¶ù Í¥ÄÎ†® Î°úÍ∑∏\r\n   */\r\n  async logAuthentication(\r\n    action: AuditAction,\r\n    userId: string,\r\n    username: string,\r\n    userRole: string,\r\n    details: Record<string, any> = {},\r\n    level: AuditLevel = AuditLevel.INFO\r\n  ): Promise<void> {\r\n    await this.log({\r\n      user_id: userId,\r\n      username,\r\n      user_role: userRole,\r\n      category: AuditCategory.AUTHENTICATION,\r\n      action,\r\n      level,\r\n      details,\r\n      session_id: details.sessionId,\r\n      request_id: details.requestId\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * Ïû¨Í≥† Í¥ÄÎ¶¨ Í¥ÄÎ†® Î°úÍ∑∏\r\n   */\r\n  async logStockOperation(\r\n    action: AuditAction,\r\n    userId: string,\r\n    username: string,\r\n    userRole: string,\r\n    resourceType: string,\r\n    resourceId: string,\r\n    details: Record<string, any> = {},\r\n    level: AuditLevel = AuditLevel.INFO\r\n  ): Promise<void> {\r\n    await this.log({\r\n      user_id: userId,\r\n      username,\r\n      user_role: userRole,\r\n      category: AuditCategory.STOCK_MANAGEMENT,\r\n      action,\r\n      level,\r\n      resource_type: resourceType,\r\n      resource_id: resourceId,\r\n      details,\r\n      session_id: details.sessionId,\r\n      request_id: details.requestId\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * Í∂åÌïú Í¥ÄÎ†® Î°úÍ∑∏\r\n   */\r\n  async logAuthorization(\r\n    action: AuditAction,\r\n    userId: string,\r\n    username: string,\r\n    userRole: string,\r\n    details: Record<string, any> = {},\r\n    level: AuditLevel = AuditLevel.WARNING\r\n  ): Promise<void> {\r\n    await this.log({\r\n      user_id: userId,\r\n      username,\r\n      user_role: userRole,\r\n      category: AuditCategory.AUTHORIZATION,\r\n      action,\r\n      level,\r\n      details,\r\n      session_id: details.sessionId,\r\n      request_id: details.requestId\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * ÏãúÏä§ÌÖú Ïö¥ÏòÅ Í¥ÄÎ†® Î°úÍ∑∏\r\n   */\r\n  async logSystemOperation(\r\n    action: AuditAction,\r\n    userId: string,\r\n    username: string,\r\n    userRole: string,\r\n    details: Record<string, any> = {},\r\n    level: AuditLevel = AuditLevel.INFO\r\n  ): Promise<void> {\r\n    await this.log({\r\n      user_id: userId,\r\n      username,\r\n      user_role: userRole,\r\n      category: AuditCategory.SYSTEM_OPERATION,\r\n      action,\r\n      level,\r\n      details,\r\n      session_id: details.sessionId,\r\n      request_id: details.requestId\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ IP Ï£ºÏÜå Í∞ÄÏ†∏Ïò§Í∏∞\r\n   */\r\n  private async getClientIP(): Promise<string> {\r\n    try {\r\n      // Ïô∏Î∂Ä ÏÑúÎπÑÏä§Î°ú IP ÌôïÏù∏ (ÌîÑÎ°ùÏãú ÌôòÍ≤Ω ÎåÄÏùë)\r\n      const response = await fetch('https://api.ipify.org?format=json')\r\n      const data = await response.json()\r\n      return data.ip || 'unknown'\r\n    } catch (error) {\r\n      return 'unknown'\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏ Í∞ÄÏ†∏Ïò§Í∏∞\r\n   */\r\n  private getUserAgent(): string {\r\n    if (typeof window !== 'undefined') {\r\n      return window.navigator.userAgent || 'unknown'\r\n    }\r\n    return 'unknown'\r\n  }\r\n  \r\n  /**\r\n   * Í∞êÏÇ¨ Î°úÍ∑∏ Ï°∞Ìöå (Í¥ÄÎ¶¨ÏûêÏö©)\r\n   */\r\n  async getAuditLogs(\r\n    filters: {\r\n      startDate?: string\r\n      endDate?: string\r\n      category?: AuditCategory\r\n      action?: AuditAction\r\n      userId?: string\r\n      level?: AuditLevel\r\n      limit?: number\r\n      offset?: number\r\n    } = {}\r\n  ): Promise<{ data: AuditLogEntry[]; count: number; error?: string }> {\r\n    try {\r\n      let query = this.supabase\r\n        .from('audit_logs')\r\n        .select('*', { count: 'exact' })\r\n        .order('timestamp', { ascending: false })\r\n      \r\n      // ÌïÑÌÑ∞ Ï†ÅÏö©\r\n      if (filters.startDate) {\r\n        query = query.gte('timestamp', filters.startDate)\r\n      }\r\n      if (filters.endDate) {\r\n        query = query.lte('timestamp', filters.endDate)\r\n      }\r\n      if (filters.category) {\r\n        query = query.eq('category', filters.category)\r\n      }\r\n      if (filters.action) {\r\n        query = query.eq('action', filters.action)\r\n      }\r\n      if (filters.userId) {\r\n        query = query.eq('user_id', filters.userId)\r\n      }\r\n      if (filters.level) {\r\n        query = query.eq('level', filters.level)\r\n      }\r\n      \r\n      // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò\r\n      if (filters.limit) {\r\n        query = query.limit(filters.limit)\r\n      }\r\n      if (filters.offset) {\r\n        query = query.range(filters.offset, (filters.offset || 0) + (filters.limit || 100) - 1)\r\n      }\r\n      \r\n      const { data, error, count } = await query\r\n      \r\n      if (error) {\r\n        throw new Error(`Í∞êÏÇ¨ Î°úÍ∑∏ Ï°∞Ìöå Ïã§Ìå®: ${error.message}`)\r\n      }\r\n      \r\n      return {\r\n        data: data || [],\r\n        count: count || 0\r\n      }\r\n      \r\n    } catch (error) {\r\n      logError('Í∞êÏÇ¨ Î°úÍ∑∏ Ï°∞Ìöå Ïã§Ìå®', error, { filters })\r\n      return {\r\n        data: [],\r\n        count: 0,\r\n        error: error instanceof Error ? error.message : 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'\r\n      }\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Í∞êÏÇ¨ Î°úÍ∑∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ (CSV)\r\n   */\r\n  async exportAuditLogs(\r\n    filters: {\r\n      startDate?: string\r\n      endDate?: string\r\n      category?: AuditCategory\r\n      action?: AuditAction\r\n      userId?: string\r\n      level?: AuditLevel\r\n    } = {}\r\n  ): Promise<string> {\r\n    try {\r\n      const { data } = await this.getAuditLogs({ ...filters, limit: 10000 })\r\n      \r\n      if (data.length === 0) {\r\n        return ''\r\n      }\r\n      \r\n      // CSV Ìó§Îçî\r\n      const headers = [\r\n        'Timestamp',\r\n        'User ID',\r\n        'Username',\r\n        'User Role',\r\n        'IP Address',\r\n        'Category',\r\n        'Action',\r\n        'Level',\r\n        'Resource Type',\r\n        'Resource ID',\r\n        'Details',\r\n        'Metadata'\r\n      ]\r\n      \r\n      // CSV Îç∞Ïù¥ÌÑ∞\r\n      const csvRows = [\r\n        headers.join(','),\r\n        ...data.map(entry => [\r\n          entry.timestamp,\r\n          entry.user_id,\r\n          entry.username,\r\n          entry.user_role,\r\n          entry.ip_address,\r\n          entry.category,\r\n          entry.action,\r\n          entry.level,\r\n          entry.resource_type || '',\r\n          entry.resource_id || '',\r\n          JSON.stringify(entry.details),\r\n          JSON.stringify(entry.metadata || {})\r\n        ].join(','))\r\n      ]\r\n      \r\n      return csvRows.join('\\n')\r\n      \r\n    } catch (error) {\r\n      logError('Í∞êÏÇ¨ Î°úÍ∑∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ Ïã§Ìå®', error, { filters })\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\n// Ï†ÑÏó≠ Ïù∏Ïä§ÌÑ¥Ïä§\r\nexport const auditLogger = AuditLogger.getInstance()\r\n\r\n// Ìé∏Ïùò Ìï®ÏàòÎì§\r\nexport const logAuth = auditLogger.logAuthentication.bind(auditLogger)\r\nexport const logStock = auditLogger.logStockOperation.bind(auditLogger)\r\nexport const logAuthz = auditLogger.logAuthorization.bind(auditLogger)\r\nexport const logSystem = auditLogger.logSystemOperation.bind(auditLogger)\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/lib/auth.ts"],"sourcesContent":["import { createBrowserSupabaseClient } from './supabase'\r\nimport { cookies } from 'next/headers'\r\nimport { logError } from './utils'\r\nimport { auditLogger, AuditAction, AuditLevel } from './audit'\r\n\r\n// Ïø†ÌÇ§ Í∏∞Î∞ò ÏÑ∏ÏÖò Í¥ÄÎ¶¨\r\nexport class CookieAuthManager {\r\n  private static readonly SESSION_COOKIE = 'une_session'\r\n  private static readonly REFRESH_COOKIE = 'une_refresh'\r\n  private static readonly MAX_AGE = 60 * 60 * 24 * 7 // 7Ïùº\r\n\r\n  // Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨\r\n  static async login(username: string, password: string) {\r\n    try {\r\n      const supabase = createBrowserSupabaseClient()\r\n      \r\n      // Supabase AuthÎ•º ÌÜµÌïú Î°úÍ∑∏Ïù∏\r\n      const { data, error } = await supabase.auth.signInWithPassword({\r\n        email: username,\r\n        password: password\r\n      })\r\n\r\n      if (error) {\r\n        throw new Error(`Î°úÍ∑∏Ïù∏ Ïã§Ìå®: ${error.message}`)\r\n      }\r\n\r\n      if (data.user && data.session) {\r\n        // ÏÑ∏ÏÖò Ïø†ÌÇ§ ÏÑ§Ï†ï\r\n        this.setSessionCookie(data.session.access_token, data.session.refresh_token)\r\n        \r\n        const userRole = await this.getUserRole(data.user.id)\r\n        \r\n        // ÏÑ±Í≥µÏ†ÅÏù∏ Î°úÍ∑∏Ïù∏ Í∞êÏÇ¨ Î°úÍ∑∏\r\n        await auditLogger.logAuthentication(\r\n          AuditAction.LOGIN,\r\n          data.user.id,\r\n          username,\r\n          userRole,\r\n          {\r\n            sessionId: data.session.access_token,\r\n            loginMethod: 'password',\r\n            success: true\r\n          },\r\n          AuditLevel.INFO\r\n        )\r\n        \r\n        return {\r\n          success: true,\r\n          user: {\r\n            id: data.user.id,\r\n            email: data.user.email,\r\n            username: username,\r\n            role: userRole\r\n          }\r\n        }\r\n      }\r\n\r\n      throw new Error('Î°úÍ∑∏Ïù∏ ÏùëÎãµÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§')\r\n    } catch (error) {\r\n      logError('Ïø†ÌÇ§ Î°úÍ∑∏Ïù∏ Ïò§Î•ò', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\r\n  static async logout() {\r\n    try {\r\n      const supabase = createBrowserSupabaseClient()\r\n      \r\n      // Supabase ÏÑ∏ÏÖò Ï¢ÖÎ£å\r\n      await supabase.auth.signOut()\r\n      \r\n      // Ïø†ÌÇ§ Ï†úÍ±∞\r\n      this.clearSessionCookies()\r\n      \r\n      // Î°úÍ∑∏ÏïÑÏõÉ Í∞êÏÇ¨ Î°úÍ∑∏\r\n      await auditLogger.logAuthentication(\r\n        AuditAction.LOGOUT,\r\n        'unknown', // Î°úÍ∑∏ÏïÑÏõÉ ÏãúÏóêÎäî ÏÇ¨Ïö©Ïûê IDÎ•º Ïïå Ïàò ÏóÜÏùå\r\n        'unknown',\r\n        'unknown',\r\n        {\r\n          logoutMethod: 'session_clear',\r\n          success: true\r\n        },\r\n        AuditLevel.INFO\r\n      )\r\n      \r\n      return { success: true }\r\n    } catch (error) {\r\n      logError('Ïø†ÌÇ§ Î°úÍ∑∏ÏïÑÏõÉ Ïò§Î•ò', error)\r\n      // ÏóêÎü¨Í∞Ä ÏûàÏñ¥ÎèÑ Ïø†ÌÇ§Îäî Ï†úÍ±∞\r\n      this.clearSessionCookies()\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // ÏÑ∏ÏÖò Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù\r\n  static async validateSession() {\r\n    try {\r\n      const supabase = createBrowserSupabaseClient()\r\n      \r\n      const { data: { session }, error } = await supabase.auth.getSession()\r\n      \r\n      if (error || !session) {\r\n        return { valid: false, user: null }\r\n      }\r\n\r\n      // ÌÜ†ÌÅ∞ ÎßåÎ£å Ï≤¥ÌÅ¨\r\n      if (session.expires_at && new Date(session.expires_at * 1000) < new Date()) {\r\n        // Î¶¨ÌîÑÎ†àÏãú ÌÜ†ÌÅ∞ÏúºÎ°ú Í∞±Ïã† ÏãúÎèÑ\r\n        const { data: refreshData, error: refreshError } = await supabase.auth.refreshSession()\r\n        \r\n        if (refreshError || !refreshData.session) {\r\n          this.clearSessionCookies()\r\n          return { valid: false, user: null }\r\n        }\r\n        \r\n        // Í∞±Ïã†Îêú ÏÑ∏ÏÖòÏúºÎ°ú Ïø†ÌÇ§ ÏóÖÎç∞Ïù¥Ìä∏\r\n        this.setSessionCookie(refreshData.session.access_token, refreshData.session.refresh_token)\r\n      }\r\n\r\n      return {\r\n        valid: true,\r\n        user: {\r\n          id: session.user.id,\r\n          email: session.user.email,\r\n          role: await this.getUserRole(session.user.id)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      logError('ÏÑ∏ÏÖò Í≤ÄÏ¶ù Ïò§Î•ò', error)\r\n      return { valid: false, user: null }\r\n    }\r\n  }\r\n\r\n  // ÏÇ¨Ïö©Ïûê Ïó≠Ìï† Ï°∞Ìöå\r\n  private static async getUserRole(userId: string): Promise<string> {\r\n    try {\r\n      const supabase = createBrowserSupabaseClient()\r\n      \r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .select('role, department')\r\n        .eq('id', userId)\r\n        .single()\r\n\r\n      if (error || !data) {\r\n        return 'user' // Í∏∞Î≥∏ Ïó≠Ìï†\r\n      }\r\n\r\n      // Ïó≠Ìï† Ïö∞ÏÑ†ÏàúÏúÑ: admin > manager > user\r\n      if (data.role === 'admin') return 'admin'\r\n      if (data.role === 'manager' || data.department === 'Ï†ÑÍ∏∞ÌåÄ') return 'manager'\r\n      return 'user'\r\n    } catch (error) {\r\n      logError('ÏÇ¨Ïö©Ïûê Ïó≠Ìï† Ï°∞Ìöå Ïò§Î•ò', error)\r\n      return 'user'\r\n    }\r\n  }\r\n\r\n  // ÏÑ∏ÏÖò Ïø†ÌÇ§ ÏÑ§Ï†ï\r\n  private static setSessionCookie(accessToken: string, refreshToken: string) {\r\n    if (typeof document !== 'undefined') {\r\n      // ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÇ¨Ïù¥Îìú\r\n      document.cookie = `${this.SESSION_COOKIE}=${accessToken}; max-age=${this.MAX_AGE}; path=/; secure; samesite=strict`\r\n      document.cookie = `${this.REFRESH_COOKIE}=${refreshToken}; max-age=${this.MAX_AGE}; path=/; secure; samesite=strict`\r\n    }\r\n  }\r\n\r\n  // ÏÑ∏ÏÖò Ïø†ÌÇ§ Ï†úÍ±∞\r\n  private static clearSessionCookies() {\r\n    if (typeof document !== 'undefined') {\r\n      // ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÇ¨Ïù¥Îìú\r\n      document.cookie = `${this.SESSION_COOKIE}=; max-age=0; path=/`\r\n      document.cookie = `${this.REFRESH_COOKIE}=; max-age=0; path=/`\r\n    }\r\n  }\r\n\r\n  // ÏÑúÎ≤Ñ ÏÇ¨Ïù¥Îìú Ïø†ÌÇ§ ÏùΩÍ∏∞\r\n  static getServerSession() {\r\n    try {\r\n      const cookieStore = cookies()\r\n      const sessionToken = cookieStore.get(this.SESSION_COOKIE)?.value\r\n      const refreshToken = cookieStore.get(this.REFRESH_COOKIE)?.value\r\n      \r\n      return { sessionToken, refreshToken }\r\n    } catch (error) {\r\n      logError('ÏÑúÎ≤Ñ Ïø†ÌÇ§ ÏùΩÍ∏∞ Ïò§Î•ò', error)\r\n      return { sessionToken: null, refreshToken: null }\r\n    }\r\n  }\r\n}\r\n\r\n// Í∂åÌïú Í∏∞Î∞ò Ï†ëÍ∑º Ï†úÏñ¥ (RBAC)\r\nexport class RBACManager {\r\n  private static readonly ROLE_PERMISSIONS = {\r\n    admin: [\r\n      'stock:read', 'stock:write', 'stock:delete',\r\n      'user:read', 'user:write', 'user:delete',\r\n      'audit:read', 'system:admin'\r\n    ],\r\n    manager: [\r\n      'stock:read', 'stock:write',\r\n      'user:read', 'user:write'\r\n    ],\r\n    user: [\r\n      'stock:read'\r\n    ]\r\n  }\r\n\r\n  // Í∂åÌïú ÌôïÏù∏\r\n  static hasPermission(userRole: string, permission: string): boolean {\r\n    const permissions = this.ROLE_PERMISSIONS[userRole as keyof typeof this.ROLE_PERMISSIONS] || []\r\n    return permissions.includes(permission)\r\n  }\r\n\r\n  // Ïó≠Ìï†Î≥Ñ UI Î†åÎçîÎßÅ Ï†úÏñ¥\r\n  static canRender(userRole: string, feature: string): boolean {\r\n    const featurePermissions = {\r\n      'user-management': 'user:write',\r\n      'stock-adjustment': 'stock:write',\r\n      'disposal': 'stock:write',\r\n      'audit-logs': 'audit:read',\r\n      'system-settings': 'system:admin'\r\n    }\r\n\r\n    const requiredPermission = featurePermissions[feature as keyof typeof featurePermissions]\r\n    return requiredPermission ? this.hasPermission(userRole, requiredPermission) : false\r\n  }\r\n}\r\n\r\n// Ïù∏Ï¶ù ÏÉÅÌÉú ÌõÖ\r\nexport function useAuth() {\r\n  const [user, setUser] = useState<any>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const { valid, user: authUser } = await CookieAuthManager.validateSession()\r\n        setUser(valid ? authUser : null)\r\n      } catch (error) {\r\n        logError('Ïù∏Ï¶ù ÏÉÅÌÉú ÌôïÏù∏ Ïò§Î•ò', error)\r\n        setUser(null)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    checkAuth()\r\n  }, [])\r\n\r\n  const login = async (username: string, password: string) => {\r\n    try {\r\n      const result = await CookieAuthManager.login(username, password)\r\n      if (result.success) {\r\n        setUser(result.user)\r\n        return { success: true }\r\n      }\r\n    } catch (error) {\r\n      return { success: false, error: error instanceof Error ? error.message : 'Î°úÍ∑∏Ïù∏ Ïã§Ìå®' }\r\n    }\r\n  }\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await CookieAuthManager.logout()\r\n      setUser(null)\r\n      return { success: true }\r\n    } catch (error) {\r\n      return { success: false, error: error instanceof Error ? error.message : 'Î°úÍ∑∏ÏïÑÏõÉ Ïã§Ìå®' }\r\n    }\r\n  }\r\n\r\n  return {\r\n    user,\r\n    loading,\r\n    login,\r\n    logout,\r\n    isAuthenticated: !!user,\r\n    hasPermission: (permission: string) => user ? RBACManager.hasPermission(user.role, permission) : false,\r\n    canRender: (feature: string) => user ? RBACManager.canRender(user.role, feature) : false\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/lib/schemas.ts"],"sourcesContent":["import { z } from 'zod'\r\n\r\n// Í∏∞Î≥∏ Í≤ÄÏ¶ù Í∑úÏπô\r\nconst positiveInteger = z.number().int().positive('ÏñëÏùò Ï†ïÏàòÏó¨Ïïº Ìï©ÎãàÎã§')\r\nconst nonNegativeInteger = z.number().int().min(0, '0 Ïù¥ÏÉÅÏùò Ï†ïÏàòÏó¨Ïïº Ìï©ÎãàÎã§')\r\nconst nonNegativeNumber = z.number().min(0, '0 Ïù¥ÏÉÅÏùò Ïà´ÏûêÏó¨Ïïº Ìï©ÎãàÎã§')\r\nconst safeString = z.string().trim().min(1, 'ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§').max(500, '500Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§')\r\n\r\n// ÌíàÎ™© Ïä§ÌÇ§Îßà\r\nexport const itemSchema = z.object({\r\n  name: safeString.max(100, 'ÌíàÎ™©Î™ÖÏùÄ 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  specification: safeString.max(200, 'Í∑úÍ≤©ÏùÄ 200Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  maker: safeString.max(100, 'Ï†úÏ°∞ÏÇ¨Îäî 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  unit_price: nonNegativeNumber.max(999999999, 'Îã®Í∞ÄÎäî 10ÏñµÏõê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  purpose: safeString.max(200, 'Ïö©ÎèÑÎäî 200Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  min_stock: nonNegativeInteger.max(999999, 'ÏµúÏÜåÏû¨Í≥†Îäî 999,999Í∞ú Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  category: z.string().max(50, 'Ïπ¥ÌÖåÍ≥†Î¶¨Îäî 50Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n  description: z.string().max(1000, 'ÏÑ§Î™ÖÏùÄ 1000Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n})\r\n\r\n// ÏûÖÍ≥† Ïä§ÌÇ§Îßà\r\nexport const stockInSchema = z.object({\r\n  itemName: safeString.max(100, 'ÌíàÎ™©Î™ÖÏùÄ 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  quantity: positiveInteger.max(999999, 'ÏàòÎüâÏùÄ 999,999Í∞ú Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  unitPrice: nonNegativeNumber.max(999999999, 'Îã®Í∞ÄÎäî 10ÏñµÏõê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  notes: z.string().max(500, 'ÎπÑÍ≥†Îäî 500Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n  conditionType: z.enum(['new', 'used_good', 'used_defective', 'unknown']).default('new'),\r\n  reason: z.string().max(200, 'ÏÇ¨Ïú†Îäî 200Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n  orderedBy: z.string().max(100, 'Ï£ºÎ¨∏ÏûêÎäî 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n})\r\n\r\n// Ï∂úÍ≥† Ïä§ÌÇ§Îßà\r\nexport const stockOutSchema = z.object({\r\n  quantity: positiveInteger.max(999999, 'ÏàòÎüâÏùÄ 999,999Í∞ú Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  project: z.string().max(100, 'ÌîÑÎ°úÏ†ùÌä∏Îäî 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n  notes: z.string().max(500, 'ÎπÑÍ≥†Îäî 500Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n  isRental: z.boolean().default(false),\r\n  returnDate: z.string().datetime().optional(),\r\n})\r\n\r\n// Ïû¨Í≥† Ï°∞Ï†ï Ïä§ÌÇ§Îßà\r\nexport const stockAdjustmentSchema = z.object({\r\n  itemId: z.string().uuid('Ïú†Ìö®Ìïú ÌíàÎ™© IDÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§'),\r\n  adjustedQuantity: nonNegativeInteger.max(999999, 'ÏàòÎüâÏùÄ 999,999Í∞ú Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  adjustmentReason: safeString.max(200, 'Ï°∞Ï†ï ÏÇ¨Ïú†Îäî 200Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  notes: z.string().max(500, 'ÎπÑÍ≥†Îäî 500Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n})\r\n\r\n// ÏÇ¨Ïö©Ïûê Ïä§ÌÇ§Îßà\r\nexport const userSchema = z.object({\r\n  username: z.string().min(3, 'ÏÇ¨Ïö©ÏûêÎ™ÖÏùÄ 3Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§').max(50, 'ÏÇ¨Ïö©ÏûêÎ™ÖÏùÄ 50Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  password: z.string().min(8, 'ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§').max(100, 'ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  name: safeString.max(100, 'Ïù¥Î¶ÑÏùÄ 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  department: safeString.max(100, 'Î∂ÄÏÑúÎäî 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  position: safeString.max(100, 'ÏßÅÏ±ÖÏùÄ 100Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  phone: z.string().regex(/^[0-9-+\\s()]+$/, 'Ïú†Ìö®Ìïú Ï†ÑÌôîÎ≤àÌò∏ ÌòïÏãùÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§').max(20, 'Ï†ÑÌôîÎ≤àÌò∏Îäî 20Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  isAdmin: z.boolean().default(false),\r\n})\r\n\r\n// Î°úÍ∑∏Ïù∏ Ïä§ÌÇ§Îßà\r\nexport const loginSchema = z.object({\r\n  username: z.string().min(3, 'ÏÇ¨Ïö©ÏûêÎ™ÖÏùÄ 3Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§').max(50, 'ÏÇ¨Ïö©ÏûêÎ™ÖÏùÄ 50Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  password: z.string().min(1, 'ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî'),\r\n})\r\n\r\n// Í≤ÄÏÉâ Ïä§ÌÇ§Îßà\r\nexport const searchSchema = z.object({\r\n  query: z.string().min(1, 'Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî').max(200, 'Í≤ÄÏÉâÏñ¥Îäî 200Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'),\r\n  category: z.string().max(50).optional(),\r\n  minPrice: nonNegativeNumber.optional(),\r\n  maxPrice: nonNegativeNumber.optional(),\r\n  inStock: z.boolean().optional(),\r\n})\r\n\r\n// CSV ÏóÖÎ°úÎìú Ïä§ÌÇ§Îßà\r\nexport const csvUploadSchema = z.object({\r\n  file: z.instanceof(File, { message: 'ÌååÏùºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî' }),\r\n  fileSize: z.number().max(10 * 1024 * 1024, 'ÌååÏùº ÌÅ¨Í∏∞Îäî 10MB Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§'), // 10MB Ï†úÌïú\r\n  fileType: z.string().refine(type => type === 'text/csv', 'CSV ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§'),\r\n})\r\n\r\n// Î∂ÑÍ∏∞ ÎßàÍ∞ê Ïä§ÌÇ§Îßà\r\nexport const quarterClosingSchema = z.object({\r\n  quarter: z.number().int().min(1, 'Î∂ÑÍ∏∞Îäî 1-4 ÏÇ¨Ïù¥Ïó¨Ïïº Ìï©ÎãàÎã§').max(4),\r\n  year: z.number().int().min(2020, 'Ïó∞ÎèÑÎäî 2020ÎÖÑ Ïù¥ÌõÑÏó¨Ïïº Ìï©ÎãàÎã§').max(2030),\r\n  closingDate: z.string().datetime('Ïú†Ìö®Ìïú ÎÇ†Ïßú ÌòïÏãùÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§'),\r\n  notes: z.string().max(500, 'ÎπÑÍ≥†Îäî 500Ïûê Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§').optional(),\r\n})\r\n\r\n// API ÏùëÎãµ Ïä§ÌÇ§Îßà\r\nexport const apiResponseSchema = <T extends z.ZodTypeAny>(dataSchema: T) =>\r\n  z.object({\r\n    ok: z.boolean(),\r\n    data: dataSchema.optional(),\r\n    error: z.string().optional(),\r\n    timestamp: z.string().datetime(),\r\n  })\r\n\r\n// ÏóêÎü¨ ÏùëÎãµ Ïä§ÌÇ§Îßà\r\nexport const errorResponseSchema = z.object({\r\n  ok: z.literal(false),\r\n  error: z.string(),\r\n  code: z.string().optional(),\r\n  details: z.record(z.any()).optional(),\r\n  timestamp: z.string().datetime(),\r\n})\r\n\r\n// ÏÑ±Í≥µ ÏùëÎãµ Ïä§ÌÇ§Îßà\r\nexport const successResponseSchema = <T extends z.ZodTypeAny>(dataSchema: T) =>\r\n  z.object({\r\n    ok: z.literal(true),\r\n    data: dataSchema,\r\n    timestamp: z.string().datetime(),\r\n  })\r\n\r\n// ÌÉÄÏûÖ ÎÇ¥Î≥¥ÎÇ¥Í∏∞\r\nexport type Item = z.infer<typeof itemSchema>\r\nexport type StockIn = z.infer<typeof stockInSchema>\r\nexport type StockOut = z.infer<typeof stockOutSchema>\r\nexport type StockAdjustment = z.infer<typeof stockAdjustmentSchema>\r\nexport type User = z.infer<typeof userSchema>\r\nexport type Login = z.infer<typeof loginSchema>\r\nexport type Search = z.infer<typeof searchSchema>\r\nexport type CsvUpload = z.infer<typeof csvUploadSchema>\r\nexport type QuarterClosing = z.infer<typeof quarterClosingSchema>\r\n\r\n// Í≤ÄÏ¶ù Ìï®ÏàòÎì§\r\nexport const validateItem = (data: unknown): Item => itemSchema.parse(data)\r\nexport const validateStockIn = (data: unknown): StockIn => stockInSchema.parse(data)\r\nexport const validateStockOut = (data: unknown): StockOut => stockOutSchema.parse(data)\r\nexport const validateStockAdjustment = (data: unknown): StockAdjustment => stockAdjustmentSchema.parse(data)\r\nexport const validateUser = (data: unknown): User => userSchema.parse(data)\r\nexport const validateLogin = (data: unknown): Login => loginSchema.parse(data)\r\nexport const validateSearch = (data: unknown): Search => searchSchema.parse(data)\r\nexport const validateCsvUpload = (data: unknown): CsvUpload => csvUploadSchema.parse(data)\r\nexport const validateQuarterClosing = (data: unknown): QuarterClosing => quarterClosingSchema.parse(data)\r\n\r\n// ÏïàÏ†ÑÌïú Í≤ÄÏ¶ù Ìï®Ïàò (ÏóêÎü¨ Î∞úÏÉù Ïãú Í∏∞Î≥∏Í∞í Î∞òÌôò)\r\nexport const safeValidate = <T>(schema: z.ZodType<T>, data: unknown, fallback: T): T => {\r\n  try {\r\n    return schema.parse(data)\r\n  } catch (error) {\r\n    console.error('Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Ïã§Ìå®:', error)\r\n    return fallback\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///C:/CSHOP/unecorailelectric/src/app/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Building2, User, Lock, FileText, Package, BookOpen, LogOut } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useAuth } from '@/lib/auth'\r\nimport { validateLogin } from '@/lib/schemas'\r\nimport { logError } from '@/lib/utils'\r\n\r\n// ÏóÑÍ≤©Ìïú ÌÉÄÏûÖ Ï†ïÏùò\r\ninterface LoginFormData {\r\n  username: string\r\n  password: string\r\n}\r\n\r\nexport default function HomePage() {\r\n  const [formData, setFormData] = useState<LoginFormData>({\r\n    username: '',\r\n    password: ''\r\n  })\r\n  const [loading, setLoading] = useState<boolean>(false)\r\n  const [error, setError] = useState<string>('')\r\n  \r\n  const { user, login, logout, isAuthenticated } = useAuth()\r\n  const router = useRouter()\r\n\r\n  // Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨\r\n  const handleLogin = async (e: React.FormEvent<HTMLFormElement>): Promise<void> => {\r\n    e.preventDefault()\r\n    \r\n    try {\r\n      // Zod Ïä§ÌÇ§ÎßàÎ°ú ÏûÖÎ†•Í∞í Í≤ÄÏ¶ù\r\n      const validatedData = validateLogin(formData)\r\n      \r\n      setLoading(true)\r\n      setError('')\r\n\r\n      // Ïø†ÌÇ§ Í∏∞Î∞ò Ïù∏Ï¶ù Ï≤òÎ¶¨\r\n      const result = await login(validatedData.username, validatedData.password)\r\n      \r\n      if (result?.success) {\r\n        // Ïû¨Í≥†Í¥ÄÎ¶¨ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\r\n        router.push('/stock-management')\r\n      } else {\r\n        setError(result?.error || 'Î°úÍ∑∏Ïù∏Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Î°úÍ∑∏Ïù∏ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\r\n      setError(errorMessage)\r\n      logError('Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ Ïò§Î•ò', error, { username: formData.username })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  // Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\r\n  const handleLogout = async (): Promise<void> => {\r\n    try {\r\n      await logout()\r\n      setFormData({ username: '', password: '' })\r\n      setError('')\r\n      router.push('/')\r\n    } catch (error) {\r\n      logError('Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨ Ïò§Î•ò', error)\r\n      setError('Î°úÍ∑∏ÏïÑÏõÉ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.')\r\n    }\r\n  }\r\n\r\n  // ÏûÖÎ†•Í∞í Î≥ÄÍ≤Ω Ï≤òÎ¶¨\r\n  const handleInputChange = (field: keyof LoginFormData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n    // ÏûÖÎ†• Ïãú ÏóêÎü¨ Î©îÏãúÏßÄ Ï¥àÍ∏∞Ìôî\r\n    if (error) setError('')\r\n  }\r\n\r\n  // Î°úÍ∑∏Ïù∏ Ï†Ñ ÌôîÎ©¥\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\r\n        <div className=\"w-full max-w-md\">\r\n          {/* Ìó§Îçî */}\r\n          <div className=\"text-center mb-8\">\r\n            <div className=\"flex items-center justify-center space-x-3 mb-4\">\r\n              <Building2 className=\"h-12 w-12 text-blue-600\" />\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">Ïú†ÎÑ§ÏΩîÎ†àÏùº</h1>\r\n            </div>\r\n            <h2 className=\"text-xl font-semibold text-blue-600\">Ï†ÑÍ∏∞ÌååÌä∏</h2>\r\n            <p className=\"text-gray-600 mt-2\">ÏóÖÎ¨¥ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</p>\r\n          </div>\r\n\r\n          {/* Î°úÍ∑∏Ïù∏ Ïπ¥Îìú */}\r\n          <div className=\"bg-white rounded-lg shadow-xl p-6\">\r\n            <div className=\"text-center pb-4\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 flex items-center justify-center space-x-2\">\r\n                <User className=\"h-5 w-5 text-blue-600\" />\r\n                <span>Î°úÍ∑∏Ïù∏</span>\r\n              </h3>\r\n            </div>\r\n            <div>\r\n              <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                {/* ÏÇ¨Ïö©ÏûêÎ™Ö ÏûÖÎ†• */}\r\n                <div>\r\n                  <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    ÏÇ¨Ïö©Ïûê ID <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                    <input\r\n                      id=\"username\"\r\n                      type=\"text\"\r\n                      value={formData.username}\r\n                      onChange={(e) => handleInputChange('username', e.target.value)}\r\n                      placeholder=\"ÏÇ¨Ïö©Ïûê IDÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\r\n                      className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      required\r\n                      minLength={3}\r\n                      maxLength={50}\r\n                      disabled={loading}\r\n                      autoComplete=\"username\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†• */}\r\n                <div>\r\n                  <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    ÎπÑÎ∞ÄÎ≤àÌò∏ <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                    <input\r\n                      id=\"password\"\r\n                      type=\"password\"\r\n                      value={formData.password}\r\n                      onChange={(e) => handleInputChange('password', e.target.value)}\r\n                      placeholder=\"ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\r\n                      className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      required\r\n                      minLength={8}\r\n                      maxLength={100}\r\n                      disabled={loading}\r\n                      autoComplete=\"current-password\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Ïò§Î•ò Î©îÏãúÏßÄ */}\r\n                {error && (\r\n                  <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n                    <p className=\"text-sm text-red-800\">{error}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Î°úÍ∑∏Ïù∏ Î≤ÑÌäº */}\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {loading ? 'Î°úÍ∑∏Ïù∏ Ï§ë...' : 'Î°úÍ∑∏Ïù∏'}\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Ïû¨Í≥†Í≤ÄÏÉâ Î≤ÑÌäº */}\r\n          <div className=\"mt-6 text-center\">\r\n            <Button\r\n              onClick={() => router.push('/stock-management')}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"w-full bg-orange-50 border-orange-200 text-orange-700 hover:bg-orange-100 hover:border-orange-300\"\r\n            >\r\n              <Package className=\"h-5 w-5 mr-2\" />\r\n              Ïû¨Í≥†Í≤ÄÏÉâ\r\n            </Button>\r\n          </div>\r\n\r\n          {/* ÌïòÎã® Ï†ïÎ≥¥ */}\r\n          <div className=\"text-center mt-6\">\r\n            <p className=\"text-xs text-gray-500\">\r\n              ¬© 2025 JYJ . All rights reserved.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Î°úÍ∑∏Ïù∏ ÌõÑ ÌôîÎ©¥\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md\">\r\n        {/* Ìó§Îçî */}\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"flex items-center justify-center space-x-3 mb-4\">\r\n            <Building2 className=\"h-12 w-12 text-blue-600\" />\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Ïú†ÎÑ§ÏΩîÎ†àÏùº</h1>\r\n          </div>\r\n          <h2 className=\"text-xl font-semibold text-blue-600\">Ï†ÑÍ∏∞ÌååÌä∏</h2>\r\n          <p className=\"text-gray-600 mt-2\">ÏóÖÎ¨¥ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</p>\r\n          \r\n          {/* Î°úÍ∑∏Ïù∏Îêú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ */}\r\n          {user && (\r\n            <div className=\"mt-4 bg-white rounded-lg shadow-md p-3\">\r\n              <p className=\"text-sm text-gray-700\">\r\n                <User className=\"inline h-4 w-4 mr-2 text-blue-600\" />\r\n                <span className=\"font-semibold\">{user.name || user.username}</span>Îãò ÌôòÏòÅÌï©ÎãàÎã§\r\n                <br />\r\n                <span className=\"text-xs text-gray-500\">Í∂åÌïú: {user.role}</span>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Î©îÎâ¥ Ïπ¥Îìú */}\r\n        <div className=\"bg-white rounded-lg shadow-xl p-6\">\r\n          <div className=\"text-center pb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">ÏóÖÎ¨¥ Î©îÎâ¥</h3>\r\n          </div>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {/* Ïû¨Í≥†Í≤ÄÏÉâ Î≤ÑÌäº */}\r\n            <Button\r\n              onClick={() => router.push('/stock-management')}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"w-full bg-orange-50 border-orange-200 text-orange-700 hover:bg-orange-100 hover:border-orange-300\"\r\n            >\r\n              <Package className=\"h-5 w-5 mr-2\" />\r\n              Ïû¨Í≥†Í≤ÄÏÉâ\r\n            </Button>\r\n\r\n            {/* ÏóÖÎ¨¥ÏùºÏßÄ ÏûëÏÑ± Î≤ÑÌäº */}\r\n            <Button\r\n              onClick={() => router.push('/work-diary')}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"w-full bg-green-50 border-green-200 text-green-700 hover:bg-green-100 hover:border-green-300\"\r\n            >\r\n              <FileText className=\"h-5 w-5 mr-2\" />\r\n              ÏóÖÎ¨¥ÏùºÏßÄ ÏûëÏÑ±\r\n            </Button>\r\n\r\n            {/* ÏóÖÎ¨¥ÎèÑÍµ¨ Î≤ÑÌäº */}\r\n            <Button\r\n              onClick={() => router.push('/work-tool')}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"w-full bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100 hover:border-purple-300\"\r\n            >\r\n              <BookOpen className=\"h-5 w-5 mr-2\" />\r\n              ÏóÖÎ¨¥ÎèÑÍµ¨\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Î°úÍ∑∏ÏïÑÏõÉ Î≤ÑÌäº */}\r\n          <div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n            <Button\r\n              onClick={handleLogout}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"w-full bg-red-50 border-red-200 text-red-700 hover:bg-red-100 hover:border-red-300\"\r\n            >\r\n              <LogOut className=\"h-4 w-4 mr-2\" />\r\n              Î°úÍ∑∏ÏïÑÏõÉ\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ÌïòÎã® Ï†ïÎ≥¥ */}\r\n        <div className=\"text-center mt-6\">\r\n          <p className=\"text-xs text-gray-500\">\r\n            ¬© 2024 Ïú†ÎÑ§ÏΩîÎ†àÏùº Ï†ÑÍ∏∞ÌååÌä∏. All rights reserved.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}